{% extends '::base.html.twig' %}

{% block title %}{{ parent() }} : Vehicle Assign {% endblock %}

{% block body %}

    <div class="modal fade" id="ajaxSummeryView" role="basic" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-body">
                    <img src="{{ asset('assets/global/img/loading-spinner-grey.gif') }}" alt="" class="loading">
                    <span> &nbsp;&nbsp;Loading... </span>
                </div>
            </div>
        </div>
    </div>

    <div class="col-md-12">
        <div class="portlet box blue">
            <div class="portlet-title">
                <div class="caption">
                    <i class="fa fa-globe"></i>Vehicle Assign
                </div>
            </div>
            <div class="portlet-body">
                <div class="row">
                    <div class="col-md-12">
                        {{ form_start(form, {'method': 'POST', attr: { novalidate: 'novalidate'}}) }}
                        <div class="form-group">
                            <label class="col-sm-2 control-label">Nourish Vehicle
                            </label>
                            <div class="col-sm-4">
                                {{ form_widget(form.vehicleNourish) }}
                            </div>
                        </div>

                        {{ form_row(form.agent_own_vehicle) }}

                        <div style="display: none" class="agent_own_vehicle_section">
                            <div class="form-group">
                                <label class="col-sm-2 control-label">Orders
                                </label>
                                <div class="col-sm-10">
                                    {{ form_widget(form.orders) }}
                                </div>
                            </div>
                            <div class="form-group" style="display: none">
                                <label class="col-sm-2 control-label">Depot
                                </label>
                                <div class="col-sm-4" style="display: none">
                                    {{ form_widget(form.agentDepot) }}
                                </div>
                            </div>
                            {#<div class="form-group">
                                <label class="col-sm-2 control-label">Driver name
                                </label>
                                <div class="col-sm-4">
                                    {{ form_widget(form.driverName) }}
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label">Driver phone
                                </label>
                                <div class="col-sm-4">
                                    {{ form_widget(form.driverPhone) }}
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label">Truck number
                                </label>
                                <div class="col-sm-4">
                                    {{ form_widget(form.truckNumber) }}
                                </div>
                            </div>#}
                        </div>
                        {{ form_end(form) }}
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div style="clear: both"></div>

{% endblock %}


{% block stylesheets %}
    {{ parent() }}
    {% stylesheets  filter='cssrewrite'
        "assets/global/plugins/jquery-multi-select/css/multi-select.css"
    %}
        <link rel="stylesheet" href="{{ asset_url }}" />
    {% endstylesheets %}

{% endblock stylesheets %}

{% block javascripts %}
    {{ parent() }}
    {% javascripts
        "assets/global/plugins/select2/select2.min.js"
        "assets/global/plugins/jquery-multi-select/js/jquery.multi-select.js"

    %}
        <script type="text/javascript" src="{{ asset_url }}"></script>
    {% endjavascripts %}

    <style>
        .ms-container .ms-optgroup-label {
            margin: 0;
            padding: 5px 0px 0px 5px;
            cursor: pointer;
            color: #000;
            font-weight: bold;
            font-size: 16px;
            text-align: center;
            border-bottom: 1px solid #000;
            border-top: 1px solid #000;
        }
        .ms-container .ms-list{
            height: 400px;
        }
    </style>

{% endblock javascripts %}

{% block documentReady %}
    {{ parent() }}

    $(".agent_own_vehicle").on('change',function () {
    if ($(this).is(":checked")) {
    $(".agent_own_vehicle_section").show();
    } else {
    $(".agent_own_vehicle_section").hide();
    }
    }).change();

    $("select[multiple=multiple]").multiSelect({selectableOptgroup: true});
{% endblock documentReady %}