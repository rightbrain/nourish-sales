{% extends '::base.html.twig' %}

{% block title %}{{ parent() }} : Order Details {% endblock %}

{% block body %}

    <div class="col-md-12">
        <div class="portlet box blue">
            <div class="portlet-title">
                <div class="caption">
                   Order Details
                </div>
            </div>
            <div class="portlet-body">
                {{ include('_elements/_back_to_list_button.html.twig', {url: path('orders_home'), label: 'Back to List', 'icon': 'plus'}) }}
                <div class="dataTables_wrapper no-footer">

                    <p>Order Number : {{ order.id }}</p>
                    <p>Customer Name : {{ order.customer.user.username }}</p>
                    <p>Created By : {{ order.createdBy.username }}</p>
                    <p>Order Amount : {{ order.totalAmount }}</p>
                    <p>Remarks : {{ order.remark }}</p>

                    <table class="table-bordered table-striped table-condensed flip-content col-md-12">
                        <thead class="flip-content">
                        <tr>
                            <th class="numeric">Sl</th>
                            <th class="numeric">Item</th>
                            <th class="numeric">Quantity</th>
                            <th class="numeric">Price</th>
                            <th class="numeric">Total Amount</th>
                            <th class="numeric">Paid Amount</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for index, orderItem in order.orderItems %}
                            <tr>
                                <td class="numeric">{{ index + 1 }}.</td>
                                <td class="numeric">{{ orderItem.item.itemName | default('') }}</td>
                                <td class="numeric">{{ orderItem.quantity | default('') }}</td>
                                <td class="numeric">{{ orderItem.price | default('') }}</td>
                                <td class="numeric">{{ orderItem.totalAmount | default('') }}</td>
                                <td class="numeric">{{ orderItem.paidAmount | default('') }}</td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>

                    <div style="clear: both"></div>

                    <div class="modal-footer">
                        {% if order.orderState != 'COMPLETE' and order.orderState != 'CANCEL' %}
                            <a class="btn blue delete-list-btn red" href="{{ path('order_cancel', {"id": order.id}) }}">
                                Order Cancel
                            </a>
                            {% if order.orderState != 'HOLD' %}
                                <a class="btn blue delete-list-btn" href="{{ path('order_hold', {"id": order.id}) }}">
                                    Order Hold
                                </a>
                            {% endif %}
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>

    </div>

{% endblock %}